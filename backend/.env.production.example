# ====================================
# .env.production - CONFIGURAÇÕES DE PRODUÇÃO
# ====================================
# INSTRUÇÕES:
# 1. Copie este arquivo para .env
# 2. Substitua os valores com suas informações reais
# 3. NUNCA commit este arquivo no git
# 4. Use variáveis de ambiente do seu servidor (Vercel, Railway, Render, etc)
# ====================================

# ====== SERVIDOR ======
# Porta que o backend rodará
PORT=3001

# Ambiente (production/development)
NODE_ENV=production

# ====== BANCO DE DADOS ======
# URL completa de conexão PostgreSQL (recomendado: Neon, Supabase, etc)
# Formato: postgresql://usuario:senha@host:porta/banco_dados
# Conexão interna via Docker: usar host 'postgres' e desabilitar SSL na rede interna
# Formato final abaixo (em compose usamos edda_user/edda_password/edda_db)
DATABASE_URL=postgresql://edda_user:edda_password@postgres:5432/edda_db?sslmode=disable

# ====== JWT (SEGURANÇA) ======
# JWT_SECRET: Token secreto para assinar JWTs
# IMPORTANTE: Gerar com: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# DEVE SER DIFERENTE EM CADA AMBIENTE
# NUNCA USE O VALOR DO DESENVOLVIMENTO
# Exemplo: a7f3c9e1b2d4f6h8j0k1l3m5n7p9r2t4v6w8x0y2z4a6c8e0g2i4k6m8o0
JWT_SECRET=seu_jwt_secret_aleatorio_32_caracteres_aqui

# Expiração do token JWT em produção (em horas)
JWT_EXPIRY=8

# ====== URLS DINÂMICAS ======
# ALLOWED_ORIGINS: Lista de domínios que podem acessar o backend
# Separe múltiplas origens com vírgula
# Exemplo: https://seu-dominio.com,https://api.seu-dominio.com
ALLOWED_ORIGINS=https://seu-dominio-frontend.com

# FRONTEND_URL: URL do frontend (usado para links de reset de senha no email)
# Exemplo: https://seu-dominio.com
FRONTEND_URL=https://seu-dominio-frontend.com

# SERVER_BASE_URL: URL pública do backend (usado para gerar URLs de acesso a arquivos)
# Exemplo: https://api.seu-dominio.com
SERVER_BASE_URL=https://api.seu-dominio-backend.com

# APP_URL: URL da aplicação (alternativa para SERVER_BASE_URL em alguns contextos)
APP_URL=https://seu-dominio-backend.com

# ====== EMAIL (NODEMAILER) ======
# IMPORTANTE: Usar "Senha de App" gerada no Gmail/provedor, não senha de acesso normal
# Para Gmail: https://myaccount.google.com/apppasswords

# Email que envia as mensagens
EMAIL_USER=seu-email@gmail.com

# Senha de app (gerada no painel do provedor)
# Para Gmail: Gerar em https://myaccount.google.com/apppasswords
EMAIL_APP_PASS=senha_de_app_gerada_aqui_16_caracteres

# Email que aparece no "From" dos emails enviados
EMAIL_FROM="EDDA Energia <seu-email@gmail.com>"

# Serviço de email a usar (gmail, outlook, etc)
EMAIL_SERVICE=gmail

# ====== LOGS E DEBUG ======
# NODE_ENV já configurado como 'production' acima
# Em produção, não mostrar detalhes de erro (segurança)
# Se quiser debug, remova ou comente a linha abaixo
DEBUG_MODE=false

# ====== UPLOAD DE ARQUIVOS ======
# Limite de tamanho para upload (em bytes)
# 100MB = 100000000
MAX_FILE_SIZE=100000000

# Pasta onde armazenar uploads
UPLOAD_DIR=./uploads

# ====== AUTENTICAÇÃO ======
# Tempo de bloqueio após 5 tentativas de login falhadas (em minutos)
BRUTE_FORCE_LOCKOUT_MINUTES=15

# Número máximo de tentativas antes de bloquear
BRUTE_FORCE_MAX_ATTEMPTS=5

# ====== OPCIONAL: INTEGRAÇÃO COM TERCEIROS ======
# Redis (se usar cache/session store)
# REDIS_URL=redis://:senha@host:6379

# SendGrid (alternativa a Nodemailer)
# SENDGRID_API_KEY=sua_chave_sendgrid

# AWS S3 (para upload em nuvem)
# AWS_ACCESS_KEY_ID=sua_access_key
# AWS_SECRET_ACCESS_KEY=sua_secret_key
# AWS_BUCKET_NAME=seu_bucket
# AWS_REGION=us-east-1
